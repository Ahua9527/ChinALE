/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/app/page.tsx":
/*!**************************!*\
  !*** ./src/app/page.tsx ***!
  \**************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Home)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var evergreen_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! evergreen-ui */ \"(app-pages-browser)/./node_modules/evergreen-ui/esm/alert/src/Alert.js\");\n/* harmony import */ var evergreen_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! evergreen-ui */ \"(app-pages-browser)/./node_modules/evergreen-ui/esm/scales/src/majorScale.js\");\n/* harmony import */ var evergreen_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! evergreen-ui */ \"(app-pages-browser)/./node_modules/evergreen-ui/esm/layers/src/Pane.js\");\n/* harmony import */ var evergreen_ui__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! evergreen-ui */ \"(app-pages-browser)/./node_modules/evergreen-ui/esm/typography/src/Heading.js\");\n/* harmony import */ var evergreen_ui__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! evergreen-ui */ \"(app-pages-browser)/./node_modules/evergreen-ui/esm/file-uploader/src/FileUploader.js\");\n/* harmony import */ var evergreen_ui__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! evergreen-ui */ \"(app-pages-browser)/./node_modules/evergreen-ui/esm/file-uploader/src/FileCard.js\");\n/* harmony import */ var evergreen_ui__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! evergreen-ui */ \"(app-pages-browser)/./node_modules/evergreen-ui/esm/buttons/src/Button.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_ale__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils/ale */ \"(app-pages-browser)/./src/utils/ale.ts\");\n/* harmony import */ var _utils_ale__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_utils_ale__WEBPACK_IMPORTED_MODULE_2__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\nfunction Home() {\n    _s();\n    // ===== 状态定义 =====\n    // 组件挂载状态\n    const [isMounted, setIsMounted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // 文件列表\n    const [files, setFiles] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // 文件拒绝列表\n    const [fileRejections, setFileRejections] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // 处理状态\n    const [isProcessing, setIsProcessing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // 错误信息\n    const [errors, setErrors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // ===== 辅助函数 =====\n    // 添加错误信息\n    const addError = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"Home.useCallback[addError]\": (error)=>{\n            setErrors({\n                \"Home.useCallback[addError]\": (prev)=>[\n                        ...prev,\n                        error\n                    ]\n            }[\"Home.useCallback[addError]\"]);\n        }\n    }[\"Home.useCallback[addError]\"], []);\n    // ===== 生命周期 =====\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Home.useEffect\": ()=>{\n            setIsMounted(true);\n            // 组件卸载时清理文件对象\n            return ({\n                \"Home.useEffect\": ()=>{\n                    files.forEach({\n                        \"Home.useEffect\": (file)=>{\n                            URL.revokeObjectURL(URL.createObjectURL(file));\n                        }\n                    }[\"Home.useEffect\"]);\n                    setIsMounted(false);\n                }\n            })[\"Home.useEffect\"];\n        }\n    }[\"Home.useEffect\"], [\n        files\n    ]);\n    // 服务端渲染保护\n    if ( false || !isMounted) {\n        return null;\n    }\n    // ===== 事件处理函数 =====\n    // 处理文件接受\n    const handleAccepted = (acceptedFiles)=>{\n        // 过滤只接受 .ale 文件\n        const validFiles = acceptedFiles.filter((file)=>file.name.toLowerCase().endsWith('.ale'));\n        // 如果有无效文件，添加错误信息\n        const invalidFiles = acceptedFiles.filter((file)=>!file.name.toLowerCase().endsWith('.ale'));\n        if (invalidFiles.length > 0) {\n            setErrors((prev)=>[\n                    ...prev,\n                    ...invalidFiles.map((file)=>({\n                            type: 'upload',\n                            fileName: file.name,\n                            message: '仅支持 .ale 文件'\n                        }))\n                ]);\n        }\n        setFiles((prev)=>[\n                ...prev,\n                ...validFiles\n            ]);\n        setErrors([]);\n    };\n    // 处理文件拒绝\n    const handleRejected = (rejectedFiles)=>{\n        setFileRejections(rejectedFiles);\n        rejectedFiles.forEach((rejection)=>{\n            addError({\n                type: 'upload',\n                fileName: rejection.file.name,\n                message: rejection.message\n            });\n        });\n    };\n    // 处理文件移除\n    const handleRemove = (file)=>{\n        setFiles(files.filter((f)=>f !== file));\n        setFileRejections(fileRejections.filter((r)=>r.file !== file));\n        setErrors(errors.filter((e)=>e.fileName !== file.name));\n    };\n    // 处理文件处理\n    const handleProcess = async ()=>{\n        setIsProcessing(true);\n        setErrors([]);\n        try {\n            // 串行处理所有文件\n            const successfulFiles = [];\n            for (const file of files){\n                try {\n                    // 转换编码\n                    const blob = await _utils_ale__WEBPACK_IMPORTED_MODULE_2__.ALEConverter.convertToGBK(file);\n                    const url = URL.createObjectURL(blob);\n                    // 下载延迟\n                    await new Promise((resolve)=>setTimeout(resolve, 500));\n                    // 触发下载\n                    const a = document.createElement('a');\n                    a.href = url;\n                    a.download = file.name.replace('.ale', '_GBK.ale');\n                    document.body.appendChild(a);\n                    a.click();\n                    // 清理\n                    await new Promise((resolve)=>setTimeout(resolve, 500));\n                    document.body.removeChild(a);\n                    URL.revokeObjectURL(url);\n                    successfulFiles.push(file);\n                } catch (err) {\n                    addError({\n                        type: 'process',\n                        fileName: file.name,\n                        message: err instanceof Error ? err.message : '处理失败'\n                    });\n                }\n            }\n            // 移除处理成功的文件\n            setFiles((prev)=>prev.filter((f)=>!successfulFiles.includes(f)));\n        } catch (err) {\n            addError({\n                type: 'process',\n                fileName: 'batch',\n                message: err instanceof Error ? err.message : '批量处理失败'\n            });\n        } finally{\n            setIsProcessing(false);\n        }\n    };\n    // ===== 渲染错误提示 =====\n    const renderErrors = ()=>{\n        const errorsByType = {\n            upload: errors.filter((e)=>e.type === 'upload'),\n            process: errors.filter((e)=>e.type === 'process'),\n            download: errors.filter((e)=>e.type === 'download')\n        };\n        return Object.entries(errorsByType).map((param)=>{\n            let [type, typeErrors] = param;\n            if (typeErrors.length === 0) return null;\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(evergreen_ui__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                intent: \"danger\",\n                title: \"\".concat(type === 'upload' ? '上传' : type === 'process' ? '处理' : '下载', \"错误\"),\n                marginBottom: (0,evergreen_ui__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(2),\n                children: typeErrors.map((err)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            err.fileName,\n                            \": \",\n                            err.message\n                        ]\n                    }, err.fileName, true, {\n                        fileName: \"/Users/deakins/Documents/ALE2GBK-Converter/src/app/page.tsx\",\n                        lineNumber: 178,\n                        columnNumber: 13\n                    }, this))\n            }, type, false, {\n                fileName: \"/Users/deakins/Documents/ALE2GBK-Converter/src/app/page.tsx\",\n                lineNumber: 171,\n                columnNumber: 9\n            }, this);\n        });\n    };\n    // ===== 组件渲染 =====\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(evergreen_ui__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        minHeight: \"100vh\",\n        padding: 16,\n        backgroundColor: \"white\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(evergreen_ui__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n            elevation: 1,\n            backgroundColor: \"white\",\n            padding: 32,\n            borderRadius: 8,\n            width: \"100%\",\n            maxWidth: 600,\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(evergreen_ui__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                    size: 900,\n                    marginBottom: (0,evergreen_ui__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(4),\n                    textAlign: \"center\",\n                    children: \"ALE-GBK Converter\"\n                }, void 0, false, {\n                    fileName: \"/Users/deakins/Documents/ALE2GBK-Converter/src/app/page.tsx\",\n                    lineNumber: 204,\n                    columnNumber: 9\n                }, this),\n                renderErrors(),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(evergreen_ui__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                    label: \"上传 ALE 文件\",\n                    description: \"将文件拖放到此处或点击选择文件。仅支持 .ale 文件。\",\n                    maxSizeInBytes: 50 * 1024 ** 2,\n                    // Accept all files - filtering done in handleAccepted\n                    onAccepted: handleAccepted,\n                    onRejected: handleRejected,\n                    disabled: isProcessing,\n                    maxFiles: 10,\n                    marginBottom: (0,evergreen_ui__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(3)\n                }, void 0, false, {\n                    fileName: \"/Users/deakins/Documents/ALE2GBK-Converter/src/app/page.tsx\",\n                    lineNumber: 216,\n                    columnNumber: 9\n                }, this),\n                files.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(evergreen_ui__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                    marginY: (0,evergreen_ui__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(3),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(evergreen_ui__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                            size: 400,\n                            marginBottom: (0,evergreen_ui__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(2),\n                            children: \"已上传文件\"\n                        }, void 0, false, {\n                            fileName: \"/Users/deakins/Documents/ALE2GBK-Converter/src/app/page.tsx\",\n                            lineNumber: 231,\n                            columnNumber: 13\n                        }, this),\n                        files.map((file, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(evergreen_ui__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                name: file.name,\n                                sizeInBytes: file.size,\n                                onRemove: ()=>handleRemove(file),\n                                marginBottom: (0,evergreen_ui__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(1)\n                            }, \"\".concat(file.name, \"-\").concat(index), false, {\n                                fileName: \"/Users/deakins/Documents/ALE2GBK-Converter/src/app/page.tsx\",\n                                lineNumber: 235,\n                                columnNumber: 15\n                            }, this))\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/deakins/Documents/ALE2GBK-Converter/src/app/page.tsx\",\n                    lineNumber: 230,\n                    columnNumber: 11\n                }, this),\n                files.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(evergreen_ui__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                    appearance: \"primary\",\n                    intent: \"primary\",\n                    onClick: handleProcess,\n                    isLoading: isProcessing,\n                    disabled: isProcessing,\n                    width: \"100%\",\n                    height: 40,\n                    \"aria-label\": \"处理 \".concat(files.length, \" 个文件\"),\n                    children: isProcessing ? \"正在处理 \".concat(files.length, \" 个文件...\") : \"处理 \".concat(files.length, \" 个文件\")\n                }, void 0, false, {\n                    fileName: \"/Users/deakins/Documents/ALE2GBK-Converter/src/app/page.tsx\",\n                    lineNumber: 248,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/deakins/Documents/ALE2GBK-Converter/src/app/page.tsx\",\n            lineNumber: 195,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/deakins/Documents/ALE2GBK-Converter/src/app/page.tsx\",\n        lineNumber: 187,\n        columnNumber: 5\n    }, this);\n}\n_s(Home, \"dp4bEtUlay2C4yxr+0qva7XdoNQ=\");\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvcGFnZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBV3FCO0FBQzBDO0FBQ3JCO0FBUzNCLFNBQVNZOztJQUN0QixtQkFBbUI7SUFDbkIsU0FBUztJQUNULE1BQU0sQ0FBQ0MsV0FBV0MsYUFBYSxHQUFHTCwrQ0FBUUEsQ0FBQztJQUMzQyxPQUFPO0lBQ1AsTUFBTSxDQUFDTSxPQUFPQyxTQUFTLEdBQUdQLCtDQUFRQSxDQUFTLEVBQUU7SUFDN0MsU0FBUztJQUNULE1BQU0sQ0FBQ1EsZ0JBQWdCQyxrQkFBa0IsR0FBR1QsK0NBQVFBLENBQW9DLEVBQUU7SUFDMUYsT0FBTztJQUNQLE1BQU0sQ0FBQ1UsY0FBY0MsZ0JBQWdCLEdBQUdYLCtDQUFRQSxDQUFDO0lBQ2pELE9BQU87SUFDUCxNQUFNLENBQUNZLFFBQVFDLFVBQVUsR0FBR2IsK0NBQVFBLENBQWlCLEVBQUU7SUFFdkQsbUJBQW1CO0lBQ25CLFNBQVM7SUFDVCxNQUFNYyxXQUFXYixrREFBV0E7c0NBQUMsQ0FBQ2M7WUFDNUJGOzhDQUFVRyxDQUFBQSxPQUFROzJCQUFJQTt3QkFBTUQ7cUJBQU07O1FBQ3BDO3FDQUFHLEVBQUU7SUFFTCxtQkFBbUI7SUFDbkJoQixnREFBU0E7MEJBQUM7WUFDUk0sYUFBYTtZQUNiLGNBQWM7WUFDZDtrQ0FBTztvQkFDTEMsTUFBTVcsT0FBTzswQ0FBQ0MsQ0FBQUE7NEJBQ1pDLElBQUlDLGVBQWUsQ0FBQ0QsSUFBSUUsZUFBZSxDQUFDSDt3QkFDMUM7O29CQUNBYixhQUFhO2dCQUNmOztRQUNGO3lCQUFHO1FBQUNDO0tBQU07SUFFVixVQUFVO0lBQ1YsSUFBSSxNQUE2QixJQUFJLENBQUNGLFdBQVc7UUFDL0MsT0FBTztJQUNUO0lBRUEscUJBQXFCO0lBQ3JCLFNBQVM7SUFDVCxNQUFNa0IsaUJBQWlCLENBQUNDO1FBQ3RCLGdCQUFnQjtRQUNoQixNQUFNQyxhQUFhRCxjQUFjRSxNQUFNLENBQUNQLENBQUFBLE9BQ3RDQSxLQUFLUSxJQUFJLENBQUNDLFdBQVcsR0FBR0MsUUFBUSxDQUFDO1FBR25DLGlCQUFpQjtRQUNqQixNQUFNQyxlQUFlTixjQUFjRSxNQUFNLENBQUNQLENBQUFBLE9BQ3hDLENBQUNBLEtBQUtRLElBQUksQ0FBQ0MsV0FBVyxHQUFHQyxRQUFRLENBQUM7UUFHcEMsSUFBSUMsYUFBYUMsTUFBTSxHQUFHLEdBQUc7WUFDM0JqQixVQUFVRyxDQUFBQSxPQUFRO3VCQUNiQTt1QkFDQWEsYUFBYUUsR0FBRyxDQUFDYixDQUFBQSxPQUFTOzRCQUMzQmMsTUFBTTs0QkFDTkMsVUFBVWYsS0FBS1EsSUFBSTs0QkFDbkJRLFNBQVM7d0JBQ1g7aUJBQ0Q7UUFDSDtRQUVBM0IsU0FBU1MsQ0FBQUEsT0FBUTttQkFBSUE7bUJBQVNRO2FBQVc7UUFDekNYLFVBQVUsRUFBRTtJQUNkO0lBRUEsU0FBUztJQUNULE1BQU1zQixpQkFBaUIsQ0FBQ0M7UUFDdEIzQixrQkFBa0IyQjtRQUNsQkEsY0FBY25CLE9BQU8sQ0FBQ29CLENBQUFBO1lBQ3BCdkIsU0FBUztnQkFDUGtCLE1BQU07Z0JBQ05DLFVBQVVJLFVBQVVuQixJQUFJLENBQUNRLElBQUk7Z0JBQzdCUSxTQUFTRyxVQUFVSCxPQUFPO1lBQzVCO1FBQ0Y7SUFDRjtJQUVBLFNBQVM7SUFDVCxNQUFNSSxlQUFlLENBQUNwQjtRQUNwQlgsU0FBU0QsTUFBTW1CLE1BQU0sQ0FBQ2MsQ0FBQUEsSUFBS0EsTUFBTXJCO1FBQ2pDVCxrQkFBa0JELGVBQWVpQixNQUFNLENBQUNlLENBQUFBLElBQUtBLEVBQUV0QixJQUFJLEtBQUtBO1FBQ3hETCxVQUFVRCxPQUFPYSxNQUFNLENBQUNnQixDQUFBQSxJQUFLQSxFQUFFUixRQUFRLEtBQUtmLEtBQUtRLElBQUk7SUFDdkQ7SUFFQSxTQUFTO0lBQ1QsTUFBTWdCLGdCQUFnQjtRQUNwQi9CLGdCQUFnQjtRQUNoQkUsVUFBVSxFQUFFO1FBRVosSUFBSTtZQUNGLFdBQVc7WUFDWCxNQUFNOEIsa0JBQTBCLEVBQUU7WUFFbEMsS0FBSyxNQUFNekIsUUFBUVosTUFBTztnQkFDeEIsSUFBSTtvQkFDRixPQUFPO29CQUNQLE1BQU1zQyxPQUFPLE1BQU0xQyxvREFBWUEsQ0FBQzJDLFlBQVksQ0FBQzNCO29CQUM3QyxNQUFNNEIsTUFBTTNCLElBQUlFLGVBQWUsQ0FBQ3VCO29CQUVoQyxPQUFPO29CQUNQLE1BQU0sSUFBSUcsUUFBUUMsQ0FBQUEsVUFBV0MsV0FBV0QsU0FBUztvQkFFakQsT0FBTztvQkFDUCxNQUFNRSxJQUFJQyxTQUFTQyxhQUFhLENBQUM7b0JBQ2pDRixFQUFFRyxJQUFJLEdBQUdQO29CQUNUSSxFQUFFSSxRQUFRLEdBQUdwQyxLQUFLUSxJQUFJLENBQUM2QixPQUFPLENBQUMsUUFBUTtvQkFDdkNKLFNBQVNLLElBQUksQ0FBQ0MsV0FBVyxDQUFDUDtvQkFDMUJBLEVBQUVRLEtBQUs7b0JBRVAsS0FBSztvQkFDTCxNQUFNLElBQUlYLFFBQVFDLENBQUFBLFVBQVdDLFdBQVdELFNBQVM7b0JBQ2pERyxTQUFTSyxJQUFJLENBQUNHLFdBQVcsQ0FBQ1Q7b0JBQzFCL0IsSUFBSUMsZUFBZSxDQUFDMEI7b0JBRXBCSCxnQkFBZ0JpQixJQUFJLENBQUMxQztnQkFDdkIsRUFBRSxPQUFPMkMsS0FBSztvQkFDWi9DLFNBQVM7d0JBQ1BrQixNQUFNO3dCQUNOQyxVQUFVZixLQUFLUSxJQUFJO3dCQUNuQlEsU0FBUzJCLGVBQWVDLFFBQVFELElBQUkzQixPQUFPLEdBQUc7b0JBQ2hEO2dCQUNGO1lBQ0Y7WUFFQSxZQUFZO1lBQ1ozQixTQUFTUyxDQUFBQSxPQUFRQSxLQUFLUyxNQUFNLENBQUNjLENBQUFBLElBQUssQ0FBQ0ksZ0JBQWdCb0IsUUFBUSxDQUFDeEI7UUFFOUQsRUFBRSxPQUFPc0IsS0FBSztZQUNaL0MsU0FBUztnQkFDUGtCLE1BQU07Z0JBQ05DLFVBQVU7Z0JBQ1ZDLFNBQVMyQixlQUFlQyxRQUFRRCxJQUFJM0IsT0FBTyxHQUFHO1lBQ2hEO1FBQ0YsU0FBVTtZQUNSdkIsZ0JBQWdCO1FBQ2xCO0lBQ0Y7SUFFQSxxQkFBcUI7SUFDckIsTUFBTXFELGVBQWU7UUFDbkIsTUFBTUMsZUFBZTtZQUNuQkMsUUFBUXRELE9BQU9hLE1BQU0sQ0FBQ2dCLENBQUFBLElBQUtBLEVBQUVULElBQUksS0FBSztZQUN0Q21DLFNBQVN2RCxPQUFPYSxNQUFNLENBQUNnQixDQUFBQSxJQUFLQSxFQUFFVCxJQUFJLEtBQUs7WUFDdkNzQixVQUFVMUMsT0FBT2EsTUFBTSxDQUFDZ0IsQ0FBQUEsSUFBS0EsRUFBRVQsSUFBSSxLQUFLO1FBQzFDO1FBRUEsT0FBT29DLE9BQU9DLE9BQU8sQ0FBQ0osY0FBY2xDLEdBQUcsQ0FBQztnQkFBQyxDQUFDQyxNQUFNc0MsV0FBVztZQUN6RCxJQUFJQSxXQUFXeEMsTUFBTSxLQUFLLEdBQUcsT0FBTztZQUNwQyxxQkFDRSw4REFBQ3BDLG9EQUFLQTtnQkFFSjZFLFFBQU87Z0JBQ1BDLE9BQU8sR0FBK0QsT0FBNUR4QyxTQUFTLFdBQVcsT0FBT0EsU0FBUyxZQUFZLE9BQU8sTUFBSztnQkFDdEV5QyxjQUFjNUUsd0RBQVVBLENBQUM7MEJBRXhCeUUsV0FBV3ZDLEdBQUcsQ0FBQzhCLENBQUFBLG9CQUNkLDhEQUFDYTs7NEJBQXdCYixJQUFJNUIsUUFBUTs0QkFBQzs0QkFBRzRCLElBQUkzQixPQUFPOzt1QkFBMUMyQixJQUFJNUIsUUFBUTs7Ozs7ZUFObkJEOzs7OztRQVVYO0lBQ0Y7SUFFQSxtQkFBbUI7SUFDbkIscUJBQ0UsOERBQUN6QyxvREFBSUE7UUFDSG9GLFNBQVE7UUFDUkMsWUFBVztRQUNYQyxnQkFBZTtRQUNmQyxXQUFVO1FBQ1ZDLFNBQVM7UUFDVEMsaUJBQWdCO2tCQUVoQiw0RUFBQ3pGLG9EQUFJQTtZQUNIMEYsV0FBVztZQUNYRCxpQkFBZ0I7WUFDaEJELFNBQVM7WUFDVEcsY0FBYztZQUNkQyxPQUFNO1lBQ05DLFVBQVU7OzhCQUdWLDhEQUFDekYsb0RBQU9BO29CQUNOMEYsTUFBTTtvQkFDTlosY0FBYzVFLHdEQUFVQSxDQUFDO29CQUN6QnlGLFdBQVU7OEJBQ1g7Ozs7OztnQkFLQXRCOzhCQUdELDhEQUFDeEUsb0RBQVlBO29CQUNYK0YsT0FBTTtvQkFDTkMsYUFBWTtvQkFDWkMsZ0JBQWdCLEtBQUssUUFBUTtvQkFDN0Isc0RBQXNEO29CQUN0REMsWUFBWXBFO29CQUNacUUsWUFBWXhEO29CQUNaeUQsVUFBVWxGO29CQUNWbUYsVUFBVTtvQkFDVnBCLGNBQWM1RSx3REFBVUEsQ0FBQzs7Ozs7O2dCQUkxQlMsTUFBTXdCLE1BQU0sR0FBRyxtQkFDZCw4REFBQ3ZDLG9EQUFJQTtvQkFBQ3VHLFNBQVNqRyx3REFBVUEsQ0FBQzs7c0NBQ3hCLDhEQUFDRixvREFBT0E7NEJBQUMwRixNQUFNOzRCQUFLWixjQUFjNUUsd0RBQVVBLENBQUM7c0NBQUk7Ozs7Ozt3QkFHaERTLE1BQU15QixHQUFHLENBQUMsQ0FBQ2IsTUFBTTZFLHNCQUNoQiw4REFBQ3RHLG9EQUFRQTtnQ0FFUGlDLE1BQU1SLEtBQUtRLElBQUk7Z0NBQ2ZzRSxhQUFhOUUsS0FBS21FLElBQUk7Z0NBQ3RCWSxVQUFVLElBQU0zRCxhQUFhcEI7Z0NBQzdCdUQsY0FBYzVFLHdEQUFVQSxDQUFDOytCQUpwQixHQUFnQmtHLE9BQWI3RSxLQUFLUSxJQUFJLEVBQUMsS0FBUyxPQUFOcUU7Ozs7Ozs7Ozs7O2dCQVc1QnpGLE1BQU13QixNQUFNLEdBQUcsbUJBQ2QsOERBQUNsQyxvREFBTUE7b0JBQ0xzRyxZQUFXO29CQUNYM0IsUUFBTztvQkFDUDRCLFNBQVN6RDtvQkFDVDBELFdBQVcxRjtvQkFDWGtGLFVBQVVsRjtvQkFDVnlFLE9BQU07b0JBQ05rQixRQUFRO29CQUNSQyxjQUFZLE1BQW1CLE9BQWJoRyxNQUFNd0IsTUFBTSxFQUFDOzhCQUU5QnBCLGVBQWUsUUFBcUIsT0FBYkosTUFBTXdCLE1BQU0sRUFBQyxhQUFXLE1BQW1CLE9BQWJ4QixNQUFNd0IsTUFBTSxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7OztBQU0vRTtHQWpQd0IzQjtLQUFBQSIsInNvdXJjZXMiOlsiL1VzZXJzL2RlYWtpbnMvRG9jdW1lbnRzL0FMRTJHQkstQ29udmVydGVyL3NyYy9hcHAvcGFnZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnXG5cbmltcG9ydCB7IFxuICBQYW5lLCBcbiAgRmlsZVVwbG9hZGVyLCBcbiAgRmlsZUNhcmQsIFxuICBBbGVydCwgXG4gIEhlYWRpbmcsIFxuICBCdXR0b24sXG4gIG1ham9yU2NhbGUsXG4gIE1pbWVUeXBlXG59IGZyb20gJ2V2ZXJncmVlbi11aSdcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgQUxFQ29udmVydGVyIH0gZnJvbSAnQC91dGlscy9hbGUnXG5cbi8vIOWumuS5iemUmeivr+exu+Wei1xudHlwZSBQcm9jZXNzRXJyb3IgPSB7XG4gIHR5cGU6ICd1cGxvYWQnIHwgJ3Byb2Nlc3MnIHwgJ2Rvd25sb2FkJztcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBmaWxlTmFtZTogc3RyaW5nO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBIb21lKCkge1xuICAvLyA9PT09PSDnirbmgIHlrprkuYkgPT09PT1cbiAgLy8g57uE5Lu25oyC6L2954q25oCBXG4gIGNvbnN0IFtpc01vdW50ZWQsIHNldElzTW91bnRlZF0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgLy8g5paH5Lu25YiX6KGoXG4gIGNvbnN0IFtmaWxlcywgc2V0RmlsZXNdID0gdXNlU3RhdGU8RmlsZVtdPihbXSlcbiAgLy8g5paH5Lu25ouS57ud5YiX6KGoXG4gIGNvbnN0IFtmaWxlUmVqZWN0aW9ucywgc2V0RmlsZVJlamVjdGlvbnNdID0gdXNlU3RhdGU8eyBmaWxlOiBGaWxlOyBtZXNzYWdlOiBzdHJpbmcgfVtdPihbXSlcbiAgLy8g5aSE55CG54q25oCBXG4gIGNvbnN0IFtpc1Byb2Nlc3NpbmcsIHNldElzUHJvY2Vzc2luZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgLy8g6ZSZ6K+v5L+h5oGvXG4gIGNvbnN0IFtlcnJvcnMsIHNldEVycm9yc10gPSB1c2VTdGF0ZTxQcm9jZXNzRXJyb3JbXT4oW10pXG5cbiAgLy8gPT09PT0g6L6F5Yqp5Ye95pWwID09PT09XG4gIC8vIOa3u+WKoOmUmeivr+S/oeaBr1xuICBjb25zdCBhZGRFcnJvciA9IHVzZUNhbGxiYWNrKChlcnJvcjogUHJvY2Vzc0Vycm9yKSA9PiB7XG4gICAgc2V0RXJyb3JzKHByZXYgPT4gWy4uLnByZXYsIGVycm9yXSlcbiAgfSwgW10pXG5cbiAgLy8gPT09PT0g55Sf5ZG95ZGo5pyfID09PT09XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0SXNNb3VudGVkKHRydWUpXG4gICAgLy8g57uE5Lu25Y246L295pe25riF55CG5paH5Lu25a+56LGhXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGZpbGVzLmZvckVhY2goZmlsZSA9PiB7XG4gICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwoVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKSlcbiAgICAgIH0pXG4gICAgICBzZXRJc01vdW50ZWQoZmFsc2UpXG4gICAgfVxuICB9LCBbZmlsZXNdKVxuXG4gIC8vIOacjeWKoeerr+a4suafk+S/neaKpFxuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgIWlzTW91bnRlZCkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICAvLyA9PT09PSDkuovku7blpITnkIblh73mlbAgPT09PT1cbiAgLy8g5aSE55CG5paH5Lu25o6l5Y+XXG4gIGNvbnN0IGhhbmRsZUFjY2VwdGVkID0gKGFjY2VwdGVkRmlsZXM6IEZpbGVbXSkgPT4ge1xuICAgIC8vIOi/h+a7pOWPquaOpeWPlyAuYWxlIOaWh+S7tlxuICAgIGNvbnN0IHZhbGlkRmlsZXMgPSBhY2NlcHRlZEZpbGVzLmZpbHRlcihmaWxlID0+IFxuICAgICAgZmlsZS5uYW1lLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoJy5hbGUnKVxuICAgIClcbiAgICBcbiAgICAvLyDlpoLmnpzmnInml6DmlYjmlofku7bvvIzmt7vliqDplJnor6/kv6Hmga9cbiAgICBjb25zdCBpbnZhbGlkRmlsZXMgPSBhY2NlcHRlZEZpbGVzLmZpbHRlcihmaWxlID0+IFxuICAgICAgIWZpbGUubmFtZS50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKCcuYWxlJylcbiAgICApXG4gICAgXG4gICAgaWYgKGludmFsaWRGaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICBzZXRFcnJvcnMocHJldiA9PiBbXG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIC4uLmludmFsaWRGaWxlcy5tYXAoZmlsZSA9PiAoe1xuICAgICAgICAgIHR5cGU6ICd1cGxvYWQnIGFzIGNvbnN0LFxuICAgICAgICAgIGZpbGVOYW1lOiBmaWxlLm5hbWUsXG4gICAgICAgICAgbWVzc2FnZTogJ+S7heaUr+aMgSAuYWxlIOaWh+S7tidcbiAgICAgICAgfSkpXG4gICAgICBdKVxuICAgIH1cblxuICAgIHNldEZpbGVzKHByZXYgPT4gWy4uLnByZXYsIC4uLnZhbGlkRmlsZXNdKVxuICAgIHNldEVycm9ycyhbXSlcbiAgfVxuXG4gIC8vIOWkhOeQhuaWh+S7tuaLkue7nVxuICBjb25zdCBoYW5kbGVSZWplY3RlZCA9IChyZWplY3RlZEZpbGVzOiB7IGZpbGU6IEZpbGU7IG1lc3NhZ2U6IHN0cmluZyB9W10pID0+IHtcbiAgICBzZXRGaWxlUmVqZWN0aW9ucyhyZWplY3RlZEZpbGVzKVxuICAgIHJlamVjdGVkRmlsZXMuZm9yRWFjaChyZWplY3Rpb24gPT4ge1xuICAgICAgYWRkRXJyb3Ioe1xuICAgICAgICB0eXBlOiAndXBsb2FkJyxcbiAgICAgICAgZmlsZU5hbWU6IHJlamVjdGlvbi5maWxlLm5hbWUsXG4gICAgICAgIG1lc3NhZ2U6IHJlamVjdGlvbi5tZXNzYWdlXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICAvLyDlpITnkIbmlofku7bnp7vpmaRcbiAgY29uc3QgaGFuZGxlUmVtb3ZlID0gKGZpbGU6IEZpbGUpID0+IHtcbiAgICBzZXRGaWxlcyhmaWxlcy5maWx0ZXIoZiA9PiBmICE9PSBmaWxlKSlcbiAgICBzZXRGaWxlUmVqZWN0aW9ucyhmaWxlUmVqZWN0aW9ucy5maWx0ZXIociA9PiByLmZpbGUgIT09IGZpbGUpKVxuICAgIHNldEVycm9ycyhlcnJvcnMuZmlsdGVyKGUgPT4gZS5maWxlTmFtZSAhPT0gZmlsZS5uYW1lKSlcbiAgfVxuXG4gIC8vIOWkhOeQhuaWh+S7tuWkhOeQhlxuICBjb25zdCBoYW5kbGVQcm9jZXNzID0gYXN5bmMgKCkgPT4ge1xuICAgIHNldElzUHJvY2Vzc2luZyh0cnVlKVxuICAgIHNldEVycm9ycyhbXSlcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8g5Liy6KGM5aSE55CG5omA5pyJ5paH5Lu2XG4gICAgICBjb25zdCBzdWNjZXNzZnVsRmlsZXM6IEZpbGVbXSA9IFtdO1xuICAgICAgXG4gICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyDovazmjaLnvJbnoIFcbiAgICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgQUxFQ29udmVydGVyLmNvbnZlcnRUb0dCSyhmaWxlKTtcbiAgICAgICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIOS4i+i9veW7tui/n1xuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MDApKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyDop6blj5HkuIvovb1cbiAgICAgICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgIGEuaHJlZiA9IHVybDtcbiAgICAgICAgICBhLmRvd25sb2FkID0gZmlsZS5uYW1lLnJlcGxhY2UoJy5hbGUnLCAnX0dCSy5hbGUnKTtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpO1xuICAgICAgICAgIGEuY2xpY2soKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyDmuIXnkIZcbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwKSk7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTtcbiAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gICAgICAgICAgXG4gICAgICAgICAgc3VjY2Vzc2Z1bEZpbGVzLnB1c2goZmlsZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGFkZEVycm9yKHtcbiAgICAgICAgICAgIHR5cGU6ICdwcm9jZXNzJyxcbiAgICAgICAgICAgIGZpbGVOYW1lOiBmaWxlLm5hbWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ+WkhOeQhuWksei0pSdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyDnp7vpmaTlpITnkIbmiJDlip/nmoTmlofku7ZcbiAgICAgIHNldEZpbGVzKHByZXYgPT4gcHJldi5maWx0ZXIoZiA9PiAhc3VjY2Vzc2Z1bEZpbGVzLmluY2x1ZGVzKGYpKSk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGFkZEVycm9yKHtcbiAgICAgICAgdHlwZTogJ3Byb2Nlc3MnLFxuICAgICAgICBmaWxlTmFtZTogJ2JhdGNoJyxcbiAgICAgICAgbWVzc2FnZTogZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICfmibnph4/lpITnkIblpLHotKUnXG4gICAgICB9KVxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc1Byb2Nlc3NpbmcoZmFsc2UpXG4gICAgfVxuICB9XG5cbiAgLy8gPT09PT0g5riy5p+T6ZSZ6K+v5o+Q56S6ID09PT09XG4gIGNvbnN0IHJlbmRlckVycm9ycyA9ICgpID0+IHtcbiAgICBjb25zdCBlcnJvcnNCeVR5cGUgPSB7XG4gICAgICB1cGxvYWQ6IGVycm9ycy5maWx0ZXIoZSA9PiBlLnR5cGUgPT09ICd1cGxvYWQnKSxcbiAgICAgIHByb2Nlc3M6IGVycm9ycy5maWx0ZXIoZSA9PiBlLnR5cGUgPT09ICdwcm9jZXNzJyksXG4gICAgICBkb3dubG9hZDogZXJyb3JzLmZpbHRlcihlID0+IGUudHlwZSA9PT0gJ2Rvd25sb2FkJylcbiAgICB9XG5cbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoZXJyb3JzQnlUeXBlKS5tYXAoKFt0eXBlLCB0eXBlRXJyb3JzXSkgPT4ge1xuICAgICAgaWYgKHR5cGVFcnJvcnMubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbFxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEFsZXJ0XG4gICAgICAgICAga2V5PXt0eXBlfVxuICAgICAgICAgIGludGVudD1cImRhbmdlclwiXG4gICAgICAgICAgdGl0bGU9e2Ake3R5cGUgPT09ICd1cGxvYWQnID8gJ+S4iuS8oCcgOiB0eXBlID09PSAncHJvY2VzcycgPyAn5aSE55CGJyA6ICfkuIvovb0nfemUmeivr2B9XG4gICAgICAgICAgbWFyZ2luQm90dG9tPXttYWpvclNjYWxlKDIpfVxuICAgICAgICA+XG4gICAgICAgICAge3R5cGVFcnJvcnMubWFwKGVyciA9PiAoXG4gICAgICAgICAgICA8ZGl2IGtleT17ZXJyLmZpbGVOYW1lfT57ZXJyLmZpbGVOYW1lfToge2Vyci5tZXNzYWdlfTwvZGl2PlxuICAgICAgICAgICkpfVxuICAgICAgICA8L0FsZXJ0PlxuICAgICAgKVxuICAgIH0pXG4gIH1cblxuICAvLyA9PT09PSDnu4Tku7bmuLLmn5MgPT09PT1cbiAgcmV0dXJuIChcbiAgICA8UGFuZSBcbiAgICAgIGRpc3BsYXk9XCJmbGV4XCIgXG4gICAgICBhbGlnbkl0ZW1zPVwiY2VudGVyXCIgXG4gICAgICBqdXN0aWZ5Q29udGVudD1cImNlbnRlclwiIFxuICAgICAgbWluSGVpZ2h0PVwiMTAwdmhcIlxuICAgICAgcGFkZGluZz17MTZ9XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I9XCJ3aGl0ZVwiXG4gICAgPlxuICAgICAgPFBhbmUgXG4gICAgICAgIGVsZXZhdGlvbj17MX0gXG4gICAgICAgIGJhY2tncm91bmRDb2xvcj1cIndoaXRlXCJcbiAgICAgICAgcGFkZGluZz17MzJ9IFxuICAgICAgICBib3JkZXJSYWRpdXM9ezh9XG4gICAgICAgIHdpZHRoPVwiMTAwJVwiXG4gICAgICAgIG1heFdpZHRoPXs2MDB9XG4gICAgICA+XG4gICAgICAgIHsvKiDmoIfpopggKi99XG4gICAgICAgIDxIZWFkaW5nIFxuICAgICAgICAgIHNpemU9ezkwMH0gXG4gICAgICAgICAgbWFyZ2luQm90dG9tPXttYWpvclNjYWxlKDQpfSBcbiAgICAgICAgICB0ZXh0QWxpZ249XCJjZW50ZXJcIlxuICAgICAgICA+XG4gICAgICAgICAgQUxFLUdCSyBDb252ZXJ0ZXJcbiAgICAgICAgPC9IZWFkaW5nPlxuXG4gICAgICAgIHsvKiDplJnor6/mj5DnpLogKi99XG4gICAgICAgIHtyZW5kZXJFcnJvcnMoKX1cblxuICAgICAgICB7Lyog5paH5Lu25LiK5Lyg5Yy65Z+fICovfVxuICAgICAgICA8RmlsZVVwbG9hZGVyXG4gICAgICAgICAgbGFiZWw9XCLkuIrkvKAgQUxFIOaWh+S7tlwiXG4gICAgICAgICAgZGVzY3JpcHRpb249XCLlsIbmlofku7bmi5bmlL7liLDmraTlpITmiJbngrnlh7vpgInmi6nmlofku7bjgILku4XmlK/mjIEgLmFsZSDmlofku7bjgIJcIlxuICAgICAgICAgIG1heFNpemVJbkJ5dGVzPXs1MCAqIDEwMjQgKiogMn1cbiAgICAgICAgICAvLyBBY2NlcHQgYWxsIGZpbGVzIC0gZmlsdGVyaW5nIGRvbmUgaW4gaGFuZGxlQWNjZXB0ZWRcbiAgICAgICAgICBvbkFjY2VwdGVkPXtoYW5kbGVBY2NlcHRlZH1cbiAgICAgICAgICBvblJlamVjdGVkPXtoYW5kbGVSZWplY3RlZH1cbiAgICAgICAgICBkaXNhYmxlZD17aXNQcm9jZXNzaW5nfVxuICAgICAgICAgIG1heEZpbGVzPXsxMH1cbiAgICAgICAgICBtYXJnaW5Cb3R0b209e21ham9yU2NhbGUoMyl9XG4gICAgICAgIC8+XG4gICAgICAgIFxuICAgICAgICB7Lyog5bey5LiK5Lyg5paH5Lu25YiX6KGoICovfVxuICAgICAgICB7ZmlsZXMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgPFBhbmUgbWFyZ2luWT17bWFqb3JTY2FsZSgzKX0+XG4gICAgICAgICAgICA8SGVhZGluZyBzaXplPXs0MDB9IG1hcmdpbkJvdHRvbT17bWFqb3JTY2FsZSgyKX0+XG4gICAgICAgICAgICAgIOW3suS4iuS8oOaWh+S7tlxuICAgICAgICAgICAgPC9IZWFkaW5nPlxuICAgICAgICAgICAge2ZpbGVzLm1hcCgoZmlsZSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgPEZpbGVDYXJkXG4gICAgICAgICAgICAgICAga2V5PXtgJHtmaWxlLm5hbWV9LSR7aW5kZXh9YH1cbiAgICAgICAgICAgICAgICBuYW1lPXtmaWxlLm5hbWV9XG4gICAgICAgICAgICAgICAgc2l6ZUluQnl0ZXM9e2ZpbGUuc2l6ZX1cbiAgICAgICAgICAgICAgICBvblJlbW92ZT17KCkgPT4gaGFuZGxlUmVtb3ZlKGZpbGUpfVxuICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbT17bWFqb3JTY2FsZSgxKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvUGFuZT5cbiAgICAgICAgKX1cblxuICAgICAgICB7Lyog5aSE55CG5oyJ6ZKuICovfVxuICAgICAgICB7ZmlsZXMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgYXBwZWFyYW5jZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgaW50ZW50PVwicHJpbWFyeVwiXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVQcm9jZXNzfVxuICAgICAgICAgICAgaXNMb2FkaW5nPXtpc1Byb2Nlc3Npbmd9XG4gICAgICAgICAgICBkaXNhYmxlZD17aXNQcm9jZXNzaW5nfVxuICAgICAgICAgICAgd2lkdGg9XCIxMDAlXCJcbiAgICAgICAgICAgIGhlaWdodD17NDB9XG4gICAgICAgICAgICBhcmlhLWxhYmVsPXtg5aSE55CGICR7ZmlsZXMubGVuZ3RofSDkuKrmlofku7ZgfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtpc1Byb2Nlc3NpbmcgPyBg5q2j5Zyo5aSE55CGICR7ZmlsZXMubGVuZ3RofSDkuKrmlofku7YuLi5gIDogYOWkhOeQhiAke2ZpbGVzLmxlbmd0aH0g5Liq5paH5Lu2YH1cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgKX1cbiAgICAgIDwvUGFuZT5cbiAgICA8L1BhbmU+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJQYW5lIiwiRmlsZVVwbG9hZGVyIiwiRmlsZUNhcmQiLCJBbGVydCIsIkhlYWRpbmciLCJCdXR0b24iLCJtYWpvclNjYWxlIiwiUmVhY3QiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwiQUxFQ29udmVydGVyIiwiSG9tZSIsImlzTW91bnRlZCIsInNldElzTW91bnRlZCIsImZpbGVzIiwic2V0RmlsZXMiLCJmaWxlUmVqZWN0aW9ucyIsInNldEZpbGVSZWplY3Rpb25zIiwiaXNQcm9jZXNzaW5nIiwic2V0SXNQcm9jZXNzaW5nIiwiZXJyb3JzIiwic2V0RXJyb3JzIiwiYWRkRXJyb3IiLCJlcnJvciIsInByZXYiLCJmb3JFYWNoIiwiZmlsZSIsIlVSTCIsInJldm9rZU9iamVjdFVSTCIsImNyZWF0ZU9iamVjdFVSTCIsImhhbmRsZUFjY2VwdGVkIiwiYWNjZXB0ZWRGaWxlcyIsInZhbGlkRmlsZXMiLCJmaWx0ZXIiLCJuYW1lIiwidG9Mb3dlckNhc2UiLCJlbmRzV2l0aCIsImludmFsaWRGaWxlcyIsImxlbmd0aCIsIm1hcCIsInR5cGUiLCJmaWxlTmFtZSIsIm1lc3NhZ2UiLCJoYW5kbGVSZWplY3RlZCIsInJlamVjdGVkRmlsZXMiLCJyZWplY3Rpb24iLCJoYW5kbGVSZW1vdmUiLCJmIiwiciIsImUiLCJoYW5kbGVQcm9jZXNzIiwic3VjY2Vzc2Z1bEZpbGVzIiwiYmxvYiIsImNvbnZlcnRUb0dCSyIsInVybCIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImEiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJocmVmIiwiZG93bmxvYWQiLCJyZXBsYWNlIiwiYm9keSIsImFwcGVuZENoaWxkIiwiY2xpY2siLCJyZW1vdmVDaGlsZCIsInB1c2giLCJlcnIiLCJFcnJvciIsImluY2x1ZGVzIiwicmVuZGVyRXJyb3JzIiwiZXJyb3JzQnlUeXBlIiwidXBsb2FkIiwicHJvY2VzcyIsIk9iamVjdCIsImVudHJpZXMiLCJ0eXBlRXJyb3JzIiwiaW50ZW50IiwidGl0bGUiLCJtYXJnaW5Cb3R0b20iLCJkaXYiLCJkaXNwbGF5IiwiYWxpZ25JdGVtcyIsImp1c3RpZnlDb250ZW50IiwibWluSGVpZ2h0IiwicGFkZGluZyIsImJhY2tncm91bmRDb2xvciIsImVsZXZhdGlvbiIsImJvcmRlclJhZGl1cyIsIndpZHRoIiwibWF4V2lkdGgiLCJzaXplIiwidGV4dEFsaWduIiwibGFiZWwiLCJkZXNjcmlwdGlvbiIsIm1heFNpemVJbkJ5dGVzIiwib25BY2NlcHRlZCIsIm9uUmVqZWN0ZWQiLCJkaXNhYmxlZCIsIm1heEZpbGVzIiwibWFyZ2luWSIsImluZGV4Iiwic2l6ZUluQnl0ZXMiLCJvblJlbW92ZSIsImFwcGVhcmFuY2UiLCJvbkNsaWNrIiwiaXNMb2FkaW5nIiwiaGVpZ2h0IiwiYXJpYS1sYWJlbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/page.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/utils/ale.ts":
/*!**************************!*\
  !*** ./src/utils/ale.ts ***!
  \**************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval(__webpack_require__.ts("/**\n * ALE 文件编码转换工具\n */ async function convertALEFile(fileContent) {\n    // 首先确保文件内容是有效的\n    if (!fileContent.includes('FIELD_DELIM\\tTABS')) {\n        throw new Error('Invalid ALE file format');\n    }\n    // 按行分割内容\n    const lines = fileContent.split('\\n');\n    // 处理每一行内容\n    const processedLines = lines.map((line)=>{\n        // 保持制表符分隔\n        return line.trim();\n    });\n    // 重新组合内容\n    const outputContent = processedLines.join('\\n');\n    // 创建编码器\n    const encoder = new TextEncoder();\n    return encoder.encode(outputContent);\n}\n// 使用示例:\nasync function processALEFile() {\n    try {\n        // 读取文件\n        const fileContent = await window.fs.readFile('UnitA_466_20240712.ale', {\n            encoding: 'utf8'\n        });\n        // 转换文件\n        const convertedContent = await convertALEFile(fileContent);\n        // 返回转换后的内容\n        return new Blob([\n            convertedContent\n        ], {\n            type: 'text/plain;charset=gbk'\n        });\n    } catch (error) {\n        console.error('转换过程中出错:', error);\n        throw error;\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy91dGlscy9hbGUudHMiLCJtYXBwaW5ncyI6IkFBQUE7O0NBRUMsR0FDRCxlQUFlQSxlQUFlQyxXQUFtQjtJQUMvQyxlQUFlO0lBQ2YsSUFBSSxDQUFDQSxZQUFZQyxRQUFRLENBQUMsc0JBQXNCO1FBQzlDLE1BQU0sSUFBSUMsTUFBTTtJQUNsQjtJQUNBLFNBQVM7SUFDVCxNQUFNQyxRQUFRSCxZQUFZSSxLQUFLLENBQUM7SUFFaEMsVUFBVTtJQUNWLE1BQU1DLGlCQUFpQkYsTUFBTUcsR0FBRyxDQUFDQyxDQUFBQTtRQUMvQixVQUFVO1FBQ1YsT0FBT0EsS0FBS0MsSUFBSTtJQUNsQjtJQUVBLFNBQVM7SUFDVCxNQUFNQyxnQkFBZ0JKLGVBQWVLLElBQUksQ0FBQztJQUUxQyxRQUFRO0lBQ1IsTUFBTUMsVUFBVSxJQUFJQztJQUNwQixPQUFPRCxRQUFRRSxNQUFNLENBQUNKO0FBQ3hCO0FBRUEsUUFBUTtBQUNSLGVBQWVLO0lBQ2IsSUFBSTtRQUNGLE9BQU87UUFDUCxNQUFNZCxjQUFjLE1BQU1lLE9BQU9DLEVBQUUsQ0FBQ0MsUUFBUSxDQUFDLDBCQUEwQjtZQUFFQyxVQUFVO1FBQU87UUFFMUYsT0FBTztRQUNQLE1BQU1DLG1CQUFtQixNQUFNcEIsZUFBZUM7UUFFOUMsV0FBVztRQUNYLE9BQU8sSUFBSW9CLEtBQUs7WUFBQ0Q7U0FBaUIsRUFBRTtZQUFFRSxNQUFNO1FBQXlCO0lBQ3ZFLEVBQUUsT0FBT0MsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsWUFBWUE7UUFDMUIsTUFBTUE7SUFDUjtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvZGVha2lucy9Eb2N1bWVudHMvQUxFMkdCSy1Db252ZXJ0ZXIvc3JjL3V0aWxzL2FsZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEFMRSDmlofku7bnvJbnoIHovazmjaLlt6XlhbdcbiAqL1xuYXN5bmMgZnVuY3Rpb24gY29udmVydEFMRUZpbGUoZmlsZUNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8VWludDhBcnJheT4ge1xuICAvLyDpppblhYjnoa7kv53mlofku7blhoXlrrnmmK/mnInmlYjnmoRcbiAgaWYgKCFmaWxlQ29udGVudC5pbmNsdWRlcygnRklFTERfREVMSU1cXHRUQUJTJykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgQUxFIGZpbGUgZm9ybWF0Jyk7XG4gIH1cbiAgLy8g5oyJ6KGM5YiG5Ymy5YaF5a65XG4gIGNvbnN0IGxpbmVzID0gZmlsZUNvbnRlbnQuc3BsaXQoJ1xcbicpO1xuICBcbiAgLy8g5aSE55CG5q+P5LiA6KGM5YaF5a65XG4gIGNvbnN0IHByb2Nlc3NlZExpbmVzID0gbGluZXMubWFwKGxpbmUgPT4ge1xuICAgIC8vIOS/neaMgeWItuihqOespuWIhumalFxuICAgIHJldHVybiBsaW5lLnRyaW0oKTtcbiAgfSk7XG4gIFxuICAvLyDph43mlrDnu4TlkIjlhoXlrrlcbiAgY29uc3Qgb3V0cHV0Q29udGVudCA9IHByb2Nlc3NlZExpbmVzLmpvaW4oJ1xcbicpO1xuICBcbiAgLy8g5Yib5bu657yW56CB5ZmoXG4gIGNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcbiAgcmV0dXJuIGVuY29kZXIuZW5jb2RlKG91dHB1dENvbnRlbnQpO1xufVxuXG4vLyDkvb/nlKjnpLrkvos6XG5hc3luYyBmdW5jdGlvbiBwcm9jZXNzQUxFRmlsZSgpIHtcbiAgdHJ5IHtcbiAgICAvLyDor7vlj5bmlofku7ZcbiAgICBjb25zdCBmaWxlQ29udGVudCA9IGF3YWl0IHdpbmRvdy5mcy5yZWFkRmlsZSgnVW5pdEFfNDY2XzIwMjQwNzEyLmFsZScsIHsgZW5jb2Rpbmc6ICd1dGY4JyB9KTtcbiAgICBcbiAgICAvLyDovazmjaLmlofku7ZcbiAgICBjb25zdCBjb252ZXJ0ZWRDb250ZW50ID0gYXdhaXQgY29udmVydEFMRUZpbGUoZmlsZUNvbnRlbnQpO1xuICAgIFxuICAgIC8vIOi/lOWbnui9rOaNouWQjueahOWGheWuuVxuICAgIHJldHVybiBuZXcgQmxvYihbY29udmVydGVkQ29udGVudF0sIHsgdHlwZTogJ3RleHQvcGxhaW47Y2hhcnNldD1nYmsnIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+i9rOaNoui/h+eoi+S4reWHuumUmTonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn0iXSwibmFtZXMiOlsiY29udmVydEFMRUZpbGUiLCJmaWxlQ29udGVudCIsImluY2x1ZGVzIiwiRXJyb3IiLCJsaW5lcyIsInNwbGl0IiwicHJvY2Vzc2VkTGluZXMiLCJtYXAiLCJsaW5lIiwidHJpbSIsIm91dHB1dENvbnRlbnQiLCJqb2luIiwiZW5jb2RlciIsIlRleHRFbmNvZGVyIiwiZW5jb2RlIiwicHJvY2Vzc0FMRUZpbGUiLCJ3aW5kb3ciLCJmcyIsInJlYWRGaWxlIiwiZW5jb2RpbmciLCJjb252ZXJ0ZWRDb250ZW50IiwiQmxvYiIsInR5cGUiLCJlcnJvciIsImNvbnNvbGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/utils/ale.ts\n"));

/***/ })

});